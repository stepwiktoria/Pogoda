{% extends "base.html" %}
{% block title %}Pomodoro Timer{% endblock %}
{% block content %}
<body>
  <div id="timer-container">
    <h2 id="timerp">Timer</h2>
    <button type="submit" class="btn btn-primary" onclick="startTimer()">Start</button>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{{ url_for('static', filename='js/timer.js') }}"></script>
  <script>
    var timeLeft = 1500; // 25 minutes in seconds

    function startTimer() {
      var timerInterval = setInterval(function() {
        var minutes = Math.floor(timeLeft / 60);
        var seconds = timeLeft % 60;

        // Pad the minutes and seconds with leading zeros if necessary
        minutes = String(minutes).padStart(2, '0');
        seconds = String(seconds).padStart(2, '0');

        // Display the timer
        $('#timerp').text(minutes + ':' + seconds);

        if (timeLeft === 0) {
          clearInterval(timerInterval);
          alert('Time\'s up!');
        } else {
          timeLeft--;
        }
      }, 1000);
    }
  </script>
  </body>
{% endblock %}
